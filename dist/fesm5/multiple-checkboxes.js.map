{"version":3,"file":"multiple-checkboxes.js.map","sources":["ng://multiple-checkboxes/src/app/modules/multiple-checkboxes/multiple-checkboxes.component.ts","ng://multiple-checkboxes/src/app/modules/pipe/filter.pipe.ts","ng://multiple-checkboxes/src/app/modules/multiple-checkboxes/multiple-checkboxes.module.ts"],"sourcesContent":["import {Component,OnInit,Input,Output,EventEmitter,ViewChild, ElementRef} from '@angular/core';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subject ,Observable} from 'rxjs';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'app-multiple-checkboxes',\n  template: `<div class=\"card border-primary mb-3\" >\n  <div class=\"card-header text-white bg-primary accordion-toggle\" (click)=\"toggeldiv($event)\">{{CollpseIcon}} &nbsp; {{title}}</div>\n  <div class=\"card-body collapse\" id=\"searchdiv\" #top>\n      <input [(ngModel)]=\"SearchText\" class=\"form-control form-control-sm\" type=\"search\" placeholder=\"Search\">\n      <div class=\"card-text card-box\" id=\"style-1\" [style.height.px]=\"height\">\n          <div class=\"\" >\n                  <label class=\"checkbox-container\" *ngIf=\"isSelectall\">\n                          <input type=\"checkbox\"  value=\"selectall\" (change)=\"updateSelected($event,'')\"> Select All\n                          <span class=\"checkmark\"></span>\n                      </label>\n                      <label class=\"checkbox-container\" *ngIf=\"!isSelectall\">\n                              <input type=\"checkbox\" value=\"unselectall\" (change)=\"updateSelected($event,'')\"> Unselect All\n                              <span class=\"checkmark\"></span>\n                          </label>\n              <label class=\"checkbox-container\" *ngFor=\"let item of sortByChecked('selected') | filter : SearchText :DisplayField\">\n                  <input type=\"checkbox\" [(ngModel)]=\"item.selected\" value=\"{{item[DisplayField]}}\" (change)=\"updateSelected($event,item)\"> {{item[DisplayField]}} <span *ngIf=\"item.count\">({{item.count||0}}) </span>\n                  <span class=\"checkmark\"></span>\n              </label>\n          </div>\n      </div>\n  </div>\n</div>`,\n  styles: [`.card-box{overflow-y:auto}.card-header{cursor:pointer}input[type=search]::-webkit-search-cancel-button{-webkit-appearance:searchfield-cancel-button}.checkbox-container{display:block;position:relative;padding-left:22px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox-container input{position:absolute;opacity:0;cursor:pointer}.checkmark{position:absolute;top:4px;left:0;height:15px;width:15px;background-color:#fff;border:1px solid #ced4db}.checkbox-container:hover input~.checkmark{background-color:#ccc}.checkbox-container input:checked~.checkmark{background-color:#2196f3}.checkmark:after{content:\"\";position:absolute;display:none}.checkbox-container input:checked~.checkmark:after{display:block}.checkbox-container .checkmark:after{left:4px;top:1px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}::-webkit-scrollbar{width:5px;height:5px;background-color:#f5f5f5}::-webkit-scrollbar-thumb{border-radius:2px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#006db8}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#f5f5f5}`]\n})\nexport class MultipleCheckboxesComponent implements OnInit {\n  @ViewChild('top') private top:ElementRef;\n  @Input() masterList;\n  @Output() updatedList = new EventEmitter < any > ();\n  @Output() updatedListWithFulldata=new EventEmitter<any>();\n  @Input() DisplayField;\n  @Input() title;\n  @Input() height?;\n  CollpseIcon: string = '+';\n  SearchText: any = '';\n  selectedList: any = [];\n  isSelectall:boolean=true;\n  fulldatalist:any=[];\n  private clicks = new Subject();\n\n    constructor() {\n \n  }\n\n  ngOnInit() {\n    this.clicks.pipe(\n      debounceTime(500)\n    ).subscribe(e => this.updatedList.emit(e));\n     }\n  updateSelected(event,currentItem) {\n    \n    // this.top.nativeElement.scrollTop=0;\n    // top.scrollTop=0;\n  //  top.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    // =0;\n  //  window.scrollTo(0,0)\n      if(event.target.value=='selectall'){\n     \n      this.masterList.forEach(element => {\n        element.selected=true;\n      });\n        this.selectedList=this.masterList.map(item=>item[this.DisplayField]);\n        this.clicks.next(this.selectedList)\n        // this.updatedList.emit(this.selectedList);\n      this.updatedListWithFulldata.emit(this.masterList);\n      this.isSelectall=false;\n    }\n    else if(event.target.value=='unselectall'){\n\n      this.masterList.forEach(element => {\n        element.selected=false;\n      });\n      this.selectedList=[];\n      this.clicks.next(this.selectedList)\n      // this.updatedList.emit(this.selectedList);\n          this.updatedListWithFulldata.emit([]);\n      this.isSelectall=true;\n    }\n    else{\n      if (event.target.checked) {\n            this.selectedList.push(event.target.value);\n        this.clicks.next(this.selectedList)\n        // this.updatedList.emit(this.selectedList);\n        this.fulldatalist.push(currentItem)\n        this.updatedListWithFulldata.emit(this.fulldatalist);\n      } else {\n        this.selectedList.splice(this.selectedList.indexOf(event.target.value), 1);\n        this.fulldatalist.splice(this.fulldatalist.indexOf(currentItem),1);\n        this.clicks.next(this.selectedList)\n        // this.updatedList.emit(this.selectedList);\n        this.updatedListWithFulldata.emit(this.fulldatalist);\n        \n      }\n    }\n    \n  }\n  toggeldiv(e) {\n    // var text=$(e.target).html()\n    // $(e.target).html(\"+\"+text)\n    if (this.CollpseIcon == '-') this.CollpseIcon = '+'\n    else this.CollpseIcon = '-'\n    let cur = $(e.target).next()\n    $(cur).collapse('toggle');\n  }\n  sortByChecked(field:string){\n    let sorted = this.masterList.sort((a, b) => a[field] ? 1:( a[field]===b[field] ? 0 : -1));\n    sorted.reverse();\n    return sorted;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\n@Pipe({\r\n  name: 'filter'\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n  transform(items: any[], searchText: string,field:string): any[] {\r\n    if(!items) return [];\r\n    if(!searchText) return items;\r\nsearchText = searchText.toLowerCase();\r\n// return items.filter( it => {\r\n//     //   return it.includes(searchText);\r\n    \r\n//     });\r\nreturn items.filter(item => item[field].toLowerCase().indexOf(searchText) !== -1);\r\n   }\r\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MultipleCheckboxesComponent } from './multiple-checkboxes.component';\nimport { FormsModule } from '@angular/forms';\nimport {FilterPipe}from '../pipe/filter.pipe'\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  declarations: [MultipleCheckboxesComponent,FilterPipe],\n  exports:[MultipleCheckboxesComponent]\n})\nexport class MultipleCheckboxesModule { }\n"],"names":[],"mappings":"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"}
